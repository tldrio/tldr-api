var Logger = require('./lib/bunyan');

var log = new Logger({name: 'foo'});

log.info("one")


//function Bar(options) {
//    this.log = options.log.child()
//}

var log2 = log.child({num: 'two'}, true);
log2.info("hi from two")
log.info('hi again from one')

var repr = {
    fields: log.fields,
    serializers: log.serializers,
    streams: log.streams
}
function safe(name, value) {
    if (name === 'stream') {
        return '[stream]'
    }
    return value;
}
log.info('this is my log', JSON.stringify(repr, safe, 2))
